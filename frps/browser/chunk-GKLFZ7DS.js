import{k as F,s as O}from"./chunk-JUECCOZU.js";import{a as A}from"./chunk-NJGTMJYU.js";import{j as T,k as M,l as k,m as D,n as N,o as V,p as z,q as j}from"./chunk-OFPKGJW4.js";import{Ab as f,Ba as u,Ca as b,Jb as e,Kb as t,Lb as d,Pb as w,Sc as I,Tb as g,Ub as h,Zc as P,bc as i,cc as c,dc as x,fc as E,gb as m,gc as C,hb as v,hc as y,jc as L,sa as S,vb as _}from"./chunk-UFDMT6OF.js";import"./chunk-EQDQRRRY.js";function R(a,l){if(a&1){let s=w();e(0,"tr")(1,"td"),i(2),t(),e(3,"td")(4,"div",35)(5,"div")(6,"a",36),i(7),t()()()(),e(8,"td"),i(9),t(),e(10,"td"),i(11),t(),e(12,"td"),i(13),t(),e(14,"td"),i(15),t(),e(16,"td")(17,"div",37)(18,"button",38),g("click",function(){let o=u(s).$implicit,r=h();return b(r.onView(o))}),d(19,"iconify-icon",39),t(),e(20,"button",40),g("click",function(){let o=u(s).$implicit,r=h();return b(r.onEdit(o))}),d(21,"iconify-icon",41),t(),e(22,"button",42),g("click",function(){let o=u(s).$implicit,r=h();return b(r.onDelete(o))}),d(23,"iconify-icon",43),t()()()()}if(a&2){let s=l.$implicit;m(2),c(s.submitted_at),m(5),x(" ",s.customer_name," "),m(2),c(s.type),m(2),c(s.status),m(2),c(s.description),m(2),c(s.resolution_deadline)}}function U(a,l){a&1&&i(0,"Previous")}function B(a,l){a&1&&i(0,"Next")}var $=(()=>{let l=class l{constructor(n,o){this.apiService=n,this.toastService=o,this.users=[],this.filteredItems=[],this.paginatedItems=[],this.filteredLitigesModels=[],this.searchText="",this.currentPage=1,this.pageSize=5,this.totalItems=0}ngOnInit(){this.loadItems()}loadItems(){this.apiService.getLitiges(this.currentPage,this.pageSize).subscribe(n=>{this.users=n.data,this.totalItems=n.total,this.currentPage=n.current_page,this.filteredLitigesModels=[...this.users]})}filterItems(){this.filteredLitigesModels=this.users.filter(n=>n.type.toLowerCase().includes(this.searchText.toLowerCase())||n.status?.toLowerCase().includes(this.searchText.toLowerCase())),this.currentPage=1}onPageChange(n){this.currentPage=n,this.loadItems()}onView(n){console.log("Voir cat\xE9gorie",n),this.toastService.success(`Voir cat\xE9gorie : ${n.commande_id}`)}onEdit(n){console.log("Modifier cat\xE9gorie",n)}onDelete(n){confirm(`Confirmer la suppression de la cat\xE9gorie "${n.commande_id}" ?`)&&this.apiService.deleteAgent(n.id).subscribe({next:()=>{this.toastService.success("Cat\xE9gorie supprim\xE9e"),this.loadItems()},error:o=>{console.error(o),this.toastService.error("Erreur lors de la suppression")}})}};l.\u0275fac=function(o){return new(o||l)(v(F),v(O))},l.\u0275cmp=S({type:l,selectors:[["app-litiges"]],standalone:!0,features:[L],decls:66,vars:6,consts:[["title","Litiges","subTitle","Mes litiges"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","justify-content-between"],[1,"col-lg-6"],[1,"row","align-items-center"],[1,"app-search","d-none","d-md-block","me-auto"],[1,"position-relative"],["type","search","placeholder","Recherche...","autocomplete","off","value","",1,"form-control"],["icon","solar:magnifer-broken",1,"search-widget-icon"],[1,"col-lg-4"],[1,"text-dark","fw-medium","mb-0"],[1,"text-muted"],[1,"text-md-end","mt-3","mt-md-0"],["type","button",1,"btn","btn-outline-primary","me-1"],[1,"ri-filter-line","me-1"],[1,"col-xl-12"],[1,"card-header","d-flex","justify-content-between","align-items-center","border-bottom"],[1,"card-title"],["ngbDropdown",""],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-light","rounded"],["ngbDropdownMenu","",1,"dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","align-middle","text-nowrap","table-hover","table-centered","mb-0"],[1,"bg-light-subtle"],[4,"ngFor","ngForOf"],[1,"card-footer"],["aria-label","Page navigation example"],[1,"pagination","justify-content-end","mb-0",3,"pageChange","collectionSize","page","pageSize"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"d-flex","align-items-center","gap-2"],["href","javascript:void(0);",1,"text-dark","fw-medium","fs-15"],[1,"d-flex","gap-2"],["type","button","title","Voir",1,"btn","btn-light","btn-sm",3,"click"],["icon","solar:eye-broken",1,"align-middle","fs-18"],["type","button","title","Modifier",1,"btn","btn-soft-primary","btn-sm",3,"click"],["icon","solar:pen-2-broken",1,"align-middle","fs-18"],["type","button","title","Supprimer",1,"btn","btn-soft-danger","btn-sm",3,"click"],["icon","solar:trash-bin-minimalistic-2-broken",1,"align-middle","fs-18"]],template:function(o,r){o&1&&(d(0,"app-page-title",0),e(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",6)(9,"form",8)(10,"div",9),d(11,"input",10)(12,"iconify-icon",11),t()()(),e(13,"div",12)(14,"h5",13),i(15),e(16,"span",14),i(17," Litiges"),t()()()()(),e(18,"div",6)(19,"div",15)(20,"button",16),d(21,"i",17),i(22," Filters "),t()()()()()()()(),e(23,"div",1)(24,"div",18)(25,"div",3)(26,"div",19)(27,"div")(28,"h4",20),i(29,"Mes litiges"),t()(),e(30,"div",21)(31,"a",22),i(32," This Month "),t(),e(33,"div",23)(34,"a",24),i(35,"Download"),t(),e(36,"a",24),i(37,"Export"),t(),e(38,"a",24),i(39,"Import"),t()()()(),e(40,"div",25)(41,"div",26)(42,"table",27)(43,"thead",28)(44,"tr")(45,"th"),i(46,"Date"),t(),e(47,"th"),i(48,"Commande"),t(),e(49,"th"),i(50,"type"),t(),e(51,"th"),i(52,"status"),t(),e(53,"th"),i(54,"description"),t(),e(55,"th"),i(56,"Preuves"),t(),e(57,"th"),i(58,"Action"),t()()(),e(59,"tbody"),_(60,R,24,6,"tr",29),t()()()(),e(61,"div",30)(62,"nav",31)(63,"ngb-pagination",32),y("pageChange",function(p){return C(r.currentPage,p)||(r.currentPage=p),p}),g("pageChange",function(p){return r.onPageChange(p)}),_(64,U,1,0,"ng-template",33)(65,B,1,0,"ng-template",34),t()()()()()()),o&2&&(m(15),x(" ",r.totalItems," "),m(45),f("ngForOf",r.filteredLitigesModels),m(3),f("collectionSize",30)("collectionSize",r.totalItems),E("page",r.currentPage),f("pageSize",r.pageSize))},dependencies:[A,j,z,N,V,D,k,M,T,P,I]});let a=l;return a})();var te=[{path:"list",component:$,data:{title:"Litige List"}}];export{te as LITIGES_ROUTES};
