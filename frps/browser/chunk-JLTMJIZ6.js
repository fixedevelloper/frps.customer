import{a as F}from"./chunk-UH7Y6FB4.js";import{s as L}from"./chunk-XPL2LQKA.js";import{a as j}from"./chunk-NJGTMJYU.js";import{j as I,k,l as M,m as D,n as N,o as V,p as q,q as z}from"./chunk-OFPKGJW4.js";import{Ab as f,Ba as g,Ca as b,Jb as e,Kb as t,Lb as d,Pb as w,Sc as P,Tb as p,Ub as h,Zc as T,bc as n,cc as u,dc as x,fc as E,gb as m,gc as C,hb as _,hc as R,jc as y,sa as S,vb as v}from"./chunk-UFDMT6OF.js";import"./chunk-EQDQRRRY.js";function $(a,l){if(a&1){let s=w();e(0,"tr")(1,"td")(2,"div",35)(3,"div")(4,"a",36),n(5),t()()()(),e(6,"td"),n(7),t(),e(8,"td"),n(9),t(),e(10,"td"),n(11),t(),e(12,"td"),n(13),t(),e(14,"td")(15,"div",37)(16,"button",38),p("click",function(){let r=g(s).$implicit,o=h();return b(o.onView(r))}),d(17,"iconify-icon",39),t(),e(18,"button",40),p("click",function(){let r=g(s).$implicit,o=h();return b(o.onEdit(r))}),d(19,"iconify-icon",41),t(),e(20,"button",42),p("click",function(){let r=g(s).$implicit,o=h();return b(o.onDelete(r))}),d(21,"iconify-icon",43),t()()()()}if(a&2){let s=l.$implicit;m(5),x(" ",s.product_name," "),m(2),u(s.reason),m(2),u(s.status),m(2),u(s.return_label),m(2),u(s.resolution_deadline)}}function U(a,l){a&1&&n(0,"Previous")}function W(a,l){a&1&&n(0,"Next")}var O=(()=>{let l=class l{constructor(i,r){this.apiService=i,this.toastService=r,this.returnRequests=[],this.filteredItems=[],this.paginatedItems=[],this.filteredReturnRequest=[],this.searchText="",this.currentPage=1,this.pageSize=5,this.totalItems=0}ngOnInit(){this.loadItems()}loadItems(){this.apiService.getRetourProducts(this.currentPage,this.pageSize).subscribe(i=>{this.returnRequests=i.data,this.totalItems=i.total,this.currentPage=i.current_page,this.filteredReturnRequest=[...this.returnRequests]})}filterItems(){this.returnRequests=this.returnRequests.filter(i=>i.product_name.toLowerCase().includes(this.searchText.toLowerCase())||i.product_id?.toLowerCase().includes(this.searchText.toLowerCase())),this.currentPage=1}onPageChange(i){this.currentPage=i,this.loadItems()}onView(i){console.log("Voir cat\xE9gorie",i),this.toastService.success(`Voir cat\xE9gorie : ${i.product_name}`)}onEdit(i){console.log("Modifier cat\xE9gorie",i)}onDelete(i){confirm(`Confirmer la suppression de la cat\xE9gorie "${i.product_name}" ?`)&&this.apiService.deleteAgent(i.id).subscribe({next:()=>{this.toastService.success("Cat\xE9gorie supprim\xE9e"),this.loadItems()},error:r=>{console.error(r),this.toastService.error("Erreur lors de la suppression")}})}};l.\u0275fac=function(r){return new(r||l)(_(F),_(L))},l.\u0275cmp=S({type:l,selectors:[["app-retours"]],standalone:!0,features:[y],decls:64,vars:6,consts:[["title","Retours","subTitle","Mes retours"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","justify-content-between"],[1,"col-lg-6"],[1,"row","align-items-center"],[1,"app-search","d-none","d-md-block","me-auto"],[1,"position-relative"],["type","search","placeholder","Recherche...","autocomplete","off","value","",1,"form-control"],["icon","solar:magnifer-broken",1,"search-widget-icon"],[1,"col-lg-4"],[1,"text-dark","fw-medium","mb-0"],[1,"text-muted"],[1,"text-md-end","mt-3","mt-md-0"],["type","button",1,"btn","btn-outline-primary","me-1"],[1,"ri-filter-line","me-1"],[1,"col-xl-12"],[1,"card-header","d-flex","justify-content-between","align-items-center","border-bottom"],[1,"card-title"],["ngbDropdown",""],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-light","rounded"],["ngbDropdownMenu","",1,"dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","align-middle","text-nowrap","table-hover","table-centered","mb-0"],[1,"bg-light-subtle"],[4,"ngFor","ngForOf"],[1,"card-footer"],["aria-label","Page navigation example"],[1,"pagination","justify-content-end","mb-0",3,"pageChange","collectionSize","page","pageSize"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"d-flex","align-items-center","gap-2"],["href","javascript:void(0);",1,"text-dark","fw-medium","fs-15"],[1,"d-flex","gap-2"],["type","button","title","Voir",1,"btn","btn-light","btn-sm",3,"click"],["icon","solar:eye-broken",1,"align-middle","fs-18"],["type","button","title","Modifier",1,"btn","btn-soft-primary","btn-sm",3,"click"],["icon","solar:pen-2-broken",1,"align-middle","fs-18"],["type","button","title","Supprimer",1,"btn","btn-soft-danger","btn-sm",3,"click"],["icon","solar:trash-bin-minimalistic-2-broken",1,"align-middle","fs-18"]],template:function(r,o){r&1&&(d(0,"app-page-title",0),e(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",6)(9,"form",8)(10,"div",9),d(11,"input",10)(12,"iconify-icon",11),t()()(),e(13,"div",12)(14,"h5",13),n(15),e(16,"span",14),n(17," Retours"),t()()()()(),e(18,"div",6)(19,"div",15)(20,"button",16),d(21,"i",17),n(22," Filters "),t()()()()()()()(),e(23,"div",1)(24,"div",18)(25,"div",3)(26,"div",19)(27,"div")(28,"h4",20),n(29,"Mes Retours produits"),t()(),e(30,"div",21)(31,"a",22),n(32," This Month "),t(),e(33,"div",23)(34,"a",24),n(35,"Download"),t(),e(36,"a",24),n(37,"Export"),t(),e(38,"a",24),n(39,"Import"),t()()()(),e(40,"div",25)(41,"div",26)(42,"table",27)(43,"thead",28)(44,"tr")(45,"th"),n(46,"Produit"),t(),e(47,"th"),n(48,"Reason"),t(),e(49,"th"),n(50,"status"),t(),e(51,"th"),n(52,"Bon de retour"),t(),e(53,"th"),n(54,"Date limite traitement"),t(),e(55,"th"),n(56,"Action"),t()()(),e(57,"tbody"),v(58,$,22,5,"tr",29),t()()()(),e(59,"div",30)(60,"nav",31)(61,"ngb-pagination",32),R("pageChange",function(c){return C(o.currentPage,c)||(o.currentPage=c),c}),p("pageChange",function(c){return o.onPageChange(c)}),v(62,U,1,0,"ng-template",33)(63,W,1,0,"ng-template",34),t()()()()()()),r&2&&(m(15),x(" ",o.totalItems," "),m(43),f("ngForOf",o.filteredReturnRequest),m(3),f("collectionSize",30)("collectionSize",o.totalItems),E("page",o.currentPage),f("pageSize",o.pageSize))},dependencies:[j,z,q,N,V,D,M,k,I,T,P]});let a=l;return a})();var te=[{path:"list",component:O,data:{title:"Retours List"}}];export{te as RETOURS_ROUTES};
