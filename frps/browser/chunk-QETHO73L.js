import{b as U,o as W,p as B,q as le,u as b,v as de}from"./chunk-2BF7RDTI.js";import{a as pe}from"./chunk-5Q2H6N3C.js";import"./chunk-F6PIM6T6.js";import{e as G,g as T,h as F,k as z}from"./chunk-XQQENWEQ.js";import{a as re,k as O,s as V}from"./chunk-AE2ENK62.js";import{Ab as m,Jb as t,Kb as i,Lb as d,Rc as M,Tb as I,Tc as w,Ub as E,Vc as oe,Zc as _,bc as r,dc as j,gb as a,gd as N,hb as g,hd as u,id as R,jc as h,jd as D,kc as f,ma as x,md as k,nc as ie,nd as L,oc as ne,od as P,pd as ae,qd as me,rd as se,sa as v,td as $,ud as H,vb as p,vd as S,wd as y}from"./chunk-UFDMT6OF.js";import{a as ee,b as te}from"./chunk-EQDQRRRY.js";var J=le("authentication"),at=B(J,e=>e.user),mt=B(J,e=>e.user?.token),st=B(J,e=>e.isLoggedIn),K=B(J,e=>e.error);var ce=e=>({"is-invalid":e});function ye(e,n){e&1&&(t(0,"div"),r(1," Num\xE9ro requis "),i())}function Ce(e,n){if(e&1&&(t(0,"div",24),r(1),i()),e&2){let c=n.ngIf;a(),j(" ",c," ")}}var ue=(()=>{let n=class n{constructor(){this.submitted=!1,this.loading=!1,this.fb=x(H),this.store=x(W),this.route=x(T),this.service=x(U),this.errorMessage$=this.store.select(K),this.signinForm=this.fb.group({phone:["",[u.required]],password:["",[u.required]]})}get form(){return this.signinForm.controls}onLogin(){if(this.submitted=!0,this.loading=!0,this.signinForm.valid){let l=this.form.phone.value,s=this.form.password.value;console.log("Dispatching login with:",l,s),this.store.dispatch(de({phone:l,password:s})),this.loading=!1}}};n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=v({type:n,selectors:[["app-signin"]],standalone:!0,features:[h],decls:38,vars:11,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],["className","mx-auto mb-4 text-center auth-logo"],[1,"fw-bold","text-uppercase","text-center","fs-18"],[1,"text-muted","text-center","mt-1","mb-4"],[1,"px-4"],[1,"authentication-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","example-email",1,"form-label"],["type","text","id","example-email","formControlName","phone","placeholder","Entrer votre telephone",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],[4,"ngIf"],["routerLink","/auth/forget-password",1,"float-end","text-muted","text-unline-dashed","ms-1","text-success-900"],["for","example-password",1,"form-label"],["type","password","id","example-password","formControlName","password","placeholder","Entrez votre mot de passe",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],[1,"form-check"],["type","checkbox","id","checkbox-signin",1,"form-check-input"],["for","checkbox-signin",1,"form-check-label"],["class","alert alert-danger",4,"ngIf"],[1,"mb-1","text-center","d-grid"],["type","submit",1,"btn","btn-primary","py-2","fw-medium"],[1,"mb-0","text-center","text-white"],["routerLink","/auth/sign-up",1,"text-reset","text-unline-dashed","fw-bold","ms-1"],[1,"alert","alert-danger"]],template:function(s,o){if(s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"app-logo-box",4),t(5,"h2",5),r(6,"Se connecter"),i(),t(7,"p",6),r(8," Bienvenue sur votre espace personnel."),i(),t(9,"p",6),r(10," Connectez-vous pour suivre vos commandes, faire une demande de retour ou g\xE9rer votre compte en toute s\xE9curit\xE9. "),i(),t(11,"div",7)(12,"form",8),I("ngSubmit",function(){return o.onLogin()}),t(13,"div",9)(14,"label",10),r(15,"Telephone"),i(),d(16,"input",11),p(17,ye,2,0,"div",12),i(),t(18,"div",9)(19,"a",13),r(20,"R\xE9initialiser le mot de passe"),i(),t(21,"label",14),r(22,"Mot de passe"),i(),d(23,"input",15),i(),t(24,"div",9)(25,"div",16),d(26,"input",17),t(27,"label",18),r(28,"Souviens-toi de moi"),i()()(),p(29,Ce,2,1,"div",19),ie(30,"async"),t(31,"div",20)(32,"button",21),r(33," Se connecter "),i()()()()()(),t(34,"p",22),r(35," Vous n'avez pas encore de compte ? "),t(36,"a",23),r(37,"Cr\xE9er un compte"),i()()()()),s&2){let C;a(12),m("formGroup",o.signinForm),a(4),m("ngClass",f(7,ce,o.submitted&&o.form.phone.errors)),a(),m("ngIf",o.submitted&&((C=o.signinForm.get("phone"))==null?null:C.invalid)),a(6),m("ngClass",f(9,ce,o.submitted&&o.form.password.errors)),a(6),m("ngIf",ne(30,5,o.errorMessage$))}},dependencies:[z,F,_,M,w,oe,S,k,N,R,D,y,L,P,b],styles:[".added-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop .3s ease-out}@keyframes _ngcontent-%COMP%_pop{0%{transform:scale(1)}40%{transform:scale(1.15)}to{transform:scale(1)}}.card-body[_ngcontent-%COMP%]{background-color:#224950!important;color:#fff!important}.text-muted[_ngcontent-%COMP%], .email-read-done[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#fff!important}.form-label[_ngcontent-%COMP%]{color:#fff!important}.bg-light[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:#fff!important}"]});let e=n;return e})();var q=e=>({"is-invalid":e});function Ee(e,n){e&1&&(t(0,"div"),r(1,"Le nom est obligatoire."),i())}function we(e,n){e&1&&(t(0,"div"),r(1,"Minimum 3 caract\xE8res."),i())}function Fe(e,n){if(e&1&&(t(0,"div",34),p(1,Ee,2,0,"div",35)(2,we,2,0,"div",35),i()),e&2){let c=E();a(),m("ngIf",c.form.name.errors.required),a(),m("ngIf",c.form.name.errors.minlength)}}function Ie(e,n){e&1&&(t(0,"div",34),r(1," Le d\xE9partement est obligatoire. "),i())}function Me(e,n){e&1&&(t(0,"div",34),r(1," La ville est obligatoire. "),i())}function Te(e,n){e&1&&(t(0,"span"),r(1,"T\xE9l\xE9phone obligatoire."),i())}function Ne(e,n){e&1&&(t(0,"span"),r(1,"Minimum 9 chiffres."),i())}function Re(e,n){e&1&&(t(0,"span"),r(1,"Maximum 9 chiffres."),i())}function De(e,n){e&1&&(t(0,"span"),r(1,"Format invalide (9 chiffres)."),i())}function ke(e,n){if(e&1&&(t(0,"div",34),p(1,Te,2,0,"span",35)(2,Ne,2,0,"span",35)(3,Re,2,0,"span",35)(4,De,2,0,"span",35),i()),e&2){let c=E();a(),m("ngIf",c.form.phone.errors.required),a(),m("ngIf",c.form.phone.errors.minlength),a(),m("ngIf",c.form.phone.errors.maxlength),a(),m("ngIf",c.form.phone.errors.pattern)}}function Le(e,n){e&1&&(t(0,"div"),r(1,"L'email est obligatoire."),i())}function Pe(e,n){e&1&&(t(0,"div"),r(1,"Format email invalide."),i())}function Ve(e,n){if(e&1&&(t(0,"div",34),p(1,Le,2,0,"div",35)(2,Pe,2,0,"div",35),i()),e&2){let c=E();a(),m("ngIf",c.form.email.errors.required),a(),m("ngIf",c.form.email.errors.email)}}function qe(e,n){e&1&&(t(0,"div"),r(1,"Mot de passe requis."),i())}function je(e,n){e&1&&(t(0,"div"),r(1,"Minimum 6 caract\xE8res."),i())}function Oe(e,n){if(e&1&&(t(0,"div",34),p(1,qe,2,0,"div",35)(2,je,2,0,"div",35),i()),e&2){let c=E();a(),m("ngIf",c.form.password.errors.required),a(),m("ngIf",c.form.password.errors.minlength)}}function Ae(e,n){e&1&&(t(0,"div",34),r(1," Confirmation obligatoire. "),i())}function Be(e,n){e&1&&d(0,"span",36)}var fe=(()=>{let n=class n{constructor(){this.loading=!1,this.submitted=!1,this.cities=[],this.departements=[],this.selectOptions={placeholder:!0,removeItemButton:!1,searchEnabled:!0,shouldSort:!1},this.fb=x(H),this.store=x(W),this.route=x(T),this.service=x(U),this.apiService=x(O),this.toastService=x(V),this.errorMessage$=this.store.select(K),this.signinForm=this.fb.group({name:["",[u.required,u.minLength(3)]],departement_id:["",[u.required]],city_id:["",[u.required]],phone:["",[u.required,u.minLength(9),u.maxLength(9),u.pattern(/^[0-9]{9}$/)]],email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]],password_confirmation:["",[u.required]]})}ngOnInit(){this.loadDepartements()}loadDepartements(){this.apiService.getDepartements().subscribe(l=>{this.departements=l})}loadcity(){this.apiService.getCityByDepartementID(this.signinForm.value.departement_id).subscribe(l=>{this.cities=l})}get form(){return this.signinForm.controls}onRegister(){if(this.loading=!0,this.submitted=!0,this.signinForm.invalid){this.loading=!1;return}if(this.signinForm.valid){let l=this.signinForm.value;this.apiService.addUser(l).subscribe({next:s=>{this.loading=!1,this.toastService.success("Compte ajout\xE9e"),this.route.navigateByUrl("auth/waiting-register")},error:s=>{this.loading=!1,console.error(s),this.toastService.error("Erreur lors de l'ajout "+s.error.message)}})}}};n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=v({type:n,selectors:[["app-signup"]],standalone:!0,features:[h],decls:62,vars:36,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],["className","mx-auto mb-4 text-center auth-logo"],[1,"fw-bold","text-uppercase","text-center","fs-18"],[1,"text-muted","text-center","mt-1","mb-4"],[1,"px-4"],[1,"authentication-form",3,"ngSubmit","formGroup"],[1,"row"],[1,"mb-3","col-md-12"],["for","example-name",1,"form-label"],["type","text","formControlName","name","id","example-name",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"row","mt-3"],[1,"col-md-6"],[1,"form-label"],["selectFormInputDynamic","","formControlName","departement_id",1,"form-select",3,"change","choices","ngClass"],[3,"ngValue"],["selectFormInputDynamic","","formControlName","city_id",1,"form-select",3,"choices","ngClass"],[1,"mb-3","col-md-6"],["for","example-phone",1,"form-label"],["formControlName","phone","type","text","id","example-phone",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],["for","example-email",1,"form-label"],["formControlName","email","type","email","id","example-email",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],["for","example-password",1,"form-label"],["formControlName","password","type","password","id","example-password",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],["for","example-confirm",1,"form-label"],["formControlName","password_confirmation","type","password","id","example-confirm",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],[1,"mb-1","text-center","d-grid"],["type","submit",1,"btn","btn-danger","py-2",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"mb-0","text-center","text-white"],["routerLink","/auth/sign-in",1,"text-reset","text-unline-dashed","fw-bold","ms-1"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(s,o){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"app-logo-box",4),t(5,"h2",5),r(6,"Cr\xE9er un compte"),i(),t(7,"p",6),r(8," Rejoignez notre plateforme et profitez d\u2019une exp\xE9rience de commande simple, rapide et s\xE9curis\xE9e. Suivez vos livraisons, faites des retours, et restez inform\xE9 \xE0 chaque \xE9tape. "),i(),t(9,"div",7)(10,"form",8),I("ngSubmit",function(){return o.onRegister()}),t(11,"div",9)(12,"div",10)(13,"label",11),r(14,"Nom complet"),i(),d(15,"input",12),p(16,Fe,3,2,"div",13),i()(),t(17,"div",14)(18,"div",15)(19,"label",16),r(20,"D\xE9partement"),i(),t(21,"select",17),I("change",function(){return o.loadcity()}),t(22,"option",18),r(23,"-- Choisir un d\xE9partement --"),i()(),p(24,Ie,2,0,"div",13),i(),t(25,"div",15)(26,"label",16),r(27,"Ville"),i(),t(28,"select",19)(29,"option",18),r(30,"-- Choisir une ville --"),i()(),p(31,Me,2,0,"div",13),i()(),t(32,"div",14)(33,"div",20)(34,"label",21),r(35,"Num\xE9ro de t\xE9l\xE9phone"),i(),d(36,"input",22),p(37,ke,5,4,"div",13),i(),t(38,"div",20)(39,"label",23),r(40,"Adresse email"),i(),d(41,"input",24),p(42,Ve,3,2,"div",13),i()(),t(43,"div",9)(44,"div",20)(45,"label",25),r(46,"Mot de passe"),i(),d(47,"input",26),p(48,Oe,3,2,"div",13),i(),t(49,"div",20)(50,"label",27),r(51,"Confirmer le mot de passe"),i(),d(52,"input",28),p(53,Ae,2,0,"div",13),i()(),t(54,"div",29)(55,"button",30),p(56,Be,1,0,"span",31),r(57),i()()()()()(),t(58,"p",32),r(59," Vous avez d\xE9j\xE0 un compte ? "),t(60,"a",33),r(61,"Se connecter"),i()()()()),s&2&&(a(10),m("formGroup",o.signinForm),a(5),m("ngClass",f(22,q,o.submitted&&o.form.name.invalid)),a(),m("ngIf",o.submitted&&o.form.name.errors),a(5),m("choices",o.departements)("ngClass",f(24,q,o.submitted&&o.form.departement_id.invalid)),a(),m("ngValue",null),a(2),m("ngIf",o.submitted&&o.form.departement_id.invalid),a(4),m("choices",o.cities)("ngClass",f(26,q,o.submitted&&o.form.city_id.invalid)),a(),m("ngValue",null),a(2),m("ngIf",o.submitted&&o.form.city_id.invalid),a(5),m("ngClass",f(28,q,o.submitted&&o.form.phone.invalid)),a(),m("ngIf",o.submitted&&o.form.phone.errors),a(4),m("ngClass",f(30,q,o.submitted&&o.form.email.invalid)),a(),m("ngIf",o.submitted&&o.form.email.errors),a(5),m("ngClass",f(32,q,o.submitted&&o.form.password.invalid)),a(),m("ngIf",o.submitted&&o.form.password.errors),a(4),m("ngClass",f(34,q,o.submitted&&o.form.password_confirmation.invalid)),a(),m("ngIf",o.submitted&&o.form.password_confirmation.invalid),a(2),m("disabled",o.loading),a(),m("ngIf",o.loading),a(),j(" ",o.loading?"Cr\xE9ation en cours...":"Cr\xE9er mon compte"," "))},dependencies:[F,b,pe,y,k,me,se,N,ae,R,D,L,P,S,_,M,w],styles:[".added-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop .3s ease-out}@keyframes _ngcontent-%COMP%_pop{0%{transform:scale(1)}40%{transform:scale(1.15)}to{transform:scale(1)}}.card-body[_ngcontent-%COMP%]{background-color:#224950!important;color:#fff!important}.text-muted[_ngcontent-%COMP%], .email-read-done[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#fff!important}.form-label[_ngcontent-%COMP%]{color:#fff!important}.bg-light[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:#fff!important}.choices[_ngcontent-%COMP%]{color:#000!important}"]});let e=n;return e})();var ze=e=>({"is-invalid":e});function Ue(e,n){e&1&&(t(0,"div"),r(1,"L'email est obligatoire."),i())}function $e(e,n){e&1&&(t(0,"div"),r(1,"Format email invalide."),i())}function He(e,n){if(e&1&&(t(0,"div",18),p(1,Ue,2,0,"div",19)(2,$e,2,0,"div",19),i()),e&2){let c=E();a(),m("ngIf",c.f.email.errors.required),a(),m("ngIf",c.f.email.errors.email)}}function We(e,n){e&1&&d(0,"span",20)}var ve=(()=>{let n=class n{constructor(l,s,o){this.fb=l,this.authService=s,this.toastr=o,this.submitted=!1,this.loading=!1}ngOnInit(){this.resetForm=this.fb.group({email:["",[u.required,u.email]]})}get f(){return this.resetForm.controls}onSubmit(){if(this.submitted=!0,this.loading=!0,this.resetForm.invalid){this.loading=!1;return}this.authService.forgotPassword(this.resetForm.value).subscribe({next:l=>{this.loading=!1,this.toastr.success("Un email de r\xE9initialisation a \xE9t\xE9 envoy\xE9.")},error:l=>{this.loading=!1,this.toastr.error("Erreur : "+l.error.message)}})}};n.\u0275fac=function(s){return new(s||n)(g($),g(O),g(V))},n.\u0275cmp=v({type:n,selectors:[["app-password"]],standalone:!0,features:[h],decls:26,vars:8,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],[1,"mx-auto","mb-4","text-center","auth-logo"],[1,"fw-bold","text-uppercase","text-center","fs-18"],[1,"text-muted","text-center","mt-1","mb-4"],[1,"px-4"],[1,"authentication-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Entrez votre email",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"mb-1","text-center","d-grid"],["type","submit",1,"btn","btn-danger","py-2","fw-medium",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"mb-0","text-center","text-white"],["routerLink","/auth/sign-in",1,"text-reset","text-unline-dashed","fw-bold","ms-1"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(s,o){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"app-logo-box",4),t(5,"h2",5),r(6,"Reset Password"),i(),t(7,"p",6),r(8," Entrez votre adresse email et nous vous enverrons les instructions "),d(9,"br"),r(10," pour r\xE9initialiser votre mot de passe. "),i(),t(11,"div",7)(12,"form",8),I("ngSubmit",function(){return o.onSubmit()}),t(13,"div",9)(14,"label",10),r(15,"E-mail"),i(),d(16,"input",11),p(17,He,3,2,"div",12),i(),t(18,"div",13)(19,"button",14),p(20,We,1,0,"span",15),r(21),i()()()()()(),t(22,"p",16),r(23," Back to "),t(24,"a",17),r(25," Se connecter "),i()()()()),s&2&&(a(12),m("formGroup",o.resetForm),a(4),m("ngClass",f(6,ze,o.submitted&&o.f.email.errors)),a(),m("ngIf",o.submitted&&o.f.email.errors),a(2),m("disabled",o.loading),a(),m("ngIf",o.loading),a(),j(" ",o.loading?" R\xE9initialiser du mot de passe en cours...":" R\xE9initialiser le mot de passe"," "))},dependencies:[F,b,y,k,N,R,D,L,P,S,_,M,w]});let e=n;return e})();var he=(()=>{let n=class n{};n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=v({type:n,selectors:[["app-lock-screen"]],standalone:!0,features:[h],decls:24,vars:0,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],["className","mx-auto mb-4 text-center auth-logo"],[1,"text-center","mb-2"],["src","assets/images/users/avatar-1.jpg","alt","avatar",1,"rounded-circle","avatar-lg","img-thumbnail"],[1,"fw-bold","text-uppercase","text-center","fs-18"],[1,"text-muted","text-center","mt-1","mb-4"],[1,"px-4"],["action","/",1,"authentication-form"],[1,"mb-3"],["for","example-password",1,"form-label","visually-hidden"],["type","text","id","example-password","placeholder","Enter your password",1,"form-control","bg-light","bg-opacity-50","border-light","py-2"],[1,"mb-1","text-center","d-grid"],["type","submit",1,"btn","btn-danger","py-2"],[1,"mb-0","text-center","text-white"],["routerLink","/auth/sign-in",1,"text-reset","text-unline-dashed","fw-bold","ms-1"]],template:function(s,o){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"app-logo-box",4),t(5,"div",5),d(6,"img",6),i(),t(7,"h2",7),r(8,"Hi ! Gaston"),i(),t(9,"p",8),r(10," Enter your password to access the admin. "),i(),t(11,"div",9)(12,"form",10)(13,"div",11)(14,"label",12),r(15,"Password"),i(),d(16,"input",13),i(),t(17,"div",14)(18,"button",15),r(19,"Sign In"),i()()()()()(),t(20,"p",16),r(21," Not you? return "),t(22,"a",17),r(23,"Sign In"),i()()()())},dependencies:[z,F,b]});let e=n;return e})();var Z=e=>({"is-invalid":e});function Je(e,n){e&1&&(t(0,"div"),r(1,"L'email est obligatoire."),i())}function Ke(e,n){e&1&&(t(0,"div"),r(1,"Format email invalide."),i())}function Qe(e,n){if(e&1&&(t(0,"div",21),p(1,Je,2,0,"div",22)(2,Ke,2,0,"div",22),i()),e&2){let c=E();a(),m("ngIf",c.f.email.errors.required),a(),m("ngIf",c.f.email.errors.email)}}function Xe(e,n){e&1&&(t(0,"div"),r(1,"Mot de passe requis."),i())}function Ye(e,n){e&1&&(t(0,"div"),r(1,"Au moins 6 caract\xE8res."),i())}function Ze(e,n){if(e&1&&(t(0,"div",21),p(1,Xe,2,0,"div",22)(2,Ye,2,0,"div",22),i()),e&2){let c=E();a(),m("ngIf",c.f.password.errors.required),a(),m("ngIf",c.f.password.errors.minlength)}}function et(e,n){e&1&&(t(0,"div"),r(1,"Confirmation requise."),i())}function tt(e,n){e&1&&(t(0,"div"),r(1,"Les mots de passe ne correspondent pas."),i())}function it(e,n){if(e&1&&(t(0,"div",21),p(1,et,2,0,"div",22)(2,tt,2,0,"div",22),i()),e&2){let c=E();a(),m("ngIf",c.f.password_confirmation.errors.required),a(),m("ngIf",c.f.password_confirmation.errors.mismatch)}}var be=(()=>{let n=class n{constructor(l,s,o,C,Se){this.fb=l,this.route=s,this.authService=o,this.toastr=C,this.router=Se,this.submitted=!1}ngOnInit(){this.token=this.route.snapshot.queryParamMap.get("token")||"",this.resetForm=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]],password_confirmation:["",u.required]},{validators:this.passwordMatchValidator})}get f(){return this.resetForm.controls}passwordMatchValidator(l){return l.get("password")?.value===l.get("password_confirmation")?.value?null:{mismatch:!0}}onSubmit(){if(this.submitted=!0,this.resetForm.invalid)return;let l=te(ee({},this.resetForm.value),{token:this.token});this.authService.resetPassword(l).subscribe({next:()=>{this.toastr.success("Mot de passe r\xE9initialis\xE9 avec succ\xE8s."),this.router.navigate(["/auth/sign-in"])},error:s=>{this.toastr.error(s.error.message||"Erreur de r\xE9initialisation.")}})}};n.\u0275fac=function(s){return new(s||n)(g($),g(G),g(O),g(V),g(T))},n.\u0275cmp=v({type:n,selectors:[["app-reset"]],standalone:!0,features:[h],decls:33,vars:13,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],[1,"mx-auto","mb-4","text-center","auth-logo"],[1,"fw-bold","text-uppercase","text-center","fs-18"],[1,"text-muted","text-center","mt-1","mb-4"],[1,"px-4"],[1,"authentication-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Votre email",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Nouveau mot de passe",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],["for","password_confirmation",1,"form-label"],["type","password","id","password_confirmation","formControlName","password_confirmation","placeholder","Confirmer mot de passe",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],[1,"mb-1","text-center","d-grid"],["type","submit",1,"btn","btn-danger","py-2","fw-medium"],[1,"mb-0","text-center","text-white"],["routerLink","/auth/sign-in",1,"text-reset","text-unline-dashed","fw-bold","ms-1"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(s,o){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"app-logo-box",4),t(5,"h2",5),r(6,"D\xE9finir un nouveau mot de passe"),i(),t(7,"p",6),r(8," Entrez votre nouveau mot de passe ci-dessous. "),i(),t(9,"div",7)(10,"form",8),I("ngSubmit",function(){return o.onSubmit()}),t(11,"div",9)(12,"label",10),r(13,"Email"),i(),d(14,"input",11),p(15,Qe,3,2,"div",12),i(),t(16,"div",9)(17,"label",13),r(18,"Nouveau mot de passe"),i(),d(19,"input",14),p(20,Ze,3,2,"div",12),i(),t(21,"div",9)(22,"label",15),r(23,"Confirmation"),i(),d(24,"input",16),p(25,it,3,2,"div",12),i(),t(26,"div",17)(27,"button",18),r(28," Mettre \xE0 jour le mot de passe "),i()()()()()(),t(29,"p",19),r(30," Back to "),t(31,"a",20),r(32,"Se connecter"),i()()()()),s&2&&(a(10),m("formGroup",o.resetForm),a(4),m("ngClass",f(7,Z,o.submitted&&o.f.email.errors)),a(),m("ngIf",o.submitted&&o.f.email.errors),a(4),m("ngClass",f(9,Z,o.submitted&&o.f.password.errors)),a(),m("ngIf",o.submitted&&o.f.password.errors),a(4),m("ngClass",f(11,Z,o.submitted&&o.f.password_confirmation.errors)),a(),m("ngIf",o.submitted&&o.f.password_confirmation.errors))},dependencies:[F,b,y,k,N,R,D,L,P,S,_,M,w]});let e=n;return e})();var xe=(()=>{let n=class n{};n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=v({type:n,selectors:[["app-waiting-register"]],standalone:!0,features:[h],decls:7,vars:0,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],["className","mx-auto mb-4 text-center auth-logo"],[1,"fw-bold","text-uppercase","text-center","fs-18"]],template:function(s,o){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"app-logo-box",4),t(5,"h2",5),r(6," Compte cr\xE9\xE9 avec succ\xE8s. V\xE9rifiez votre email pour activer le compte"),i()()()()())},dependencies:[b,y,S,_]});let e=n;return e})();function nt(e,n){e&1&&(t(0,"h4"),r(1,"\u23F3 V\xE9rification en cours..."),i())}function ot(e,n){e&1&&(t(0,"h4"),r(1,"\u{1F389} V\xE9rification termin\xE9e"),i())}var _e=(()=>{let n=class n{constructor(l,s,o,C){this.route=l,this.http=s,this.toastr=o,this.router=C,this.loading=!0}ngOnInit(){this.route.queryParams.subscribe(l=>{let s=l.url;s?this.http.get(s).subscribe({next:()=>{this.toastr.success("\u2705 Email v\xE9rifi\xE9 avec succ\xE8s"),this.loading=!1,this.router.navigate(["/auth/sign-in"])},error:()=>{this.toastr.error("\u274C Lien invalide ou expir\xE9"),this.loading=!1}}):(this.toastr.error("\u274C Aucun lien fourni"),this.loading=!1)})}};n.\u0275fac=function(s){return new(s||n)(g(G),g(re),g(V),g(T))},n.\u0275cmp=v({type:n,selectors:[["app-verify-email"]],standalone:!0,features:[h],decls:7,vars:2,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],["className","mx-auto mb-4 text-center auth-logo"],[4,"ngIf"]],template:function(s,o){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"app-logo-box",4),p(5,nt,2,0,"h4",5)(6,ot,2,0,"h4",5),i()()()()),s&2&&(a(5),m("ngIf",o.loading),a(),m("ngIf",!o.loading))},dependencies:[b,y,S,_,w]});let e=n;return e})();var Mi=[{path:"sign-in",component:ue,data:{title:"Se connecter"}},{path:"sign-up",component:fe,data:{title:"Sign Up"}},{path:"forget-password",component:ve,data:{title:"Rest Password"}},{path:"waiting-register",component:xe,data:{title:"Rest Password"}},{path:"verify-email",component:_e,data:{title:"Rest Password"}},{path:"reset-password",component:be,data:{title:"Rest Password"}},{path:"lock-screen",component:he,data:{title:"Lock Screen"}}];export{Mi as AUTH_ROUTES};
