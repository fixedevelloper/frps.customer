import{b as _,o as q,p as S,q as Q,u as b,v as W}from"./chunk-OATG3JCE.js";import{a as Z}from"./chunk-5Q2H6N3C.js";import"./chunk-F6PIM6T6.js";import{g as C,h,k as F}from"./chunk-FP5RNUBM.js";import{k as X,s as Y}from"./chunk-JUECCOZU.js";import{Ab as d,Jb as e,Kb as t,Lb as m,Rc as E,Tb as v,Tc as O,Vc as $,Zc as w,bc as i,dc as U,gb as s,gd as N,hd as u,id as k,jc as g,jd as D,kc as x,ma as p,md as M,nc as z,nd as I,oc as P,od as L,pd as H,qd as J,rd as K,sa as f,ud as R,vb as A,vd as V,wd as T}from"./chunk-UFDMT6OF.js";import"./chunk-EQDQRRRY.js";var B=Q("authentication"),ue=S(B,n=>n.user),fe=S(B,n=>n.user?.token),ge=S(B,n=>n.isLoggedIn),j=S(B,n=>n.error);var ee=n=>({"is-invalid":n});function pe(n,o){n&1&&(e(0,"div"),i(1," Num\xE9ro requis "),t())}function de(n,o){if(n&1&&(e(0,"div",24),i(1),t()),n&2){let ae=o.ngIf;s(),U(" ",ae," ")}}var te=(()=>{let o=class o{constructor(){this.submitted=!1,this.fb=p(R),this.store=p(q),this.route=p(C),this.service=p(_),this.errorMessage$=this.store.select(j),this.signinForm=this.fb.group({phone:["",[u.required]],password:["",[u.required]]})}get form(){return this.signinForm.controls}onLogin(){if(this.submitted=!0,this.signinForm.valid){let l=this.form.phone.value,r=this.form.password.value;console.log("Dispatching login with:",l,r),this.store.dispatch(W({phone:l,password:r}))}}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=f({type:o,selectors:[["app-signin"]],standalone:!0,features:[g],decls:38,vars:11,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],["className","mx-auto mb-4 text-center auth-logo"],[1,"fw-bold","text-uppercase","text-center","fs-18"],[1,"text-muted","text-center","mt-1","mb-4"],[1,"px-4"],[1,"authentication-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","example-email",1,"form-label"],["type","text","id","example-email","formControlName","phone","placeholder","Entrer votre telephone",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],[4,"ngIf"],["routerLink","/auth/reset-password",1,"float-end","text-muted","text-unline-dashed","ms-1"],["for","example-password",1,"form-label"],["type","password","id","example-password","formControlName","password","placeholder","Enter your password",1,"form-control","bg-light","bg-opacity-50","border-light","py-2",3,"ngClass"],[1,"form-check"],["type","checkbox","id","checkbox-signin",1,"form-check-input"],["for","checkbox-signin",1,"form-check-label"],["class","alert alert-danger",4,"ngIf"],[1,"mb-1","text-center","d-grid"],["type","submit",1,"btn","btn-danger","py-2","fw-medium"],[1,"mb-0","text-center","text-white"],["routerLink","/auth/sign-up",1,"text-reset","text-unline-dashed","fw-bold","ms-1"],[1,"alert","alert-danger"]],template:function(r,a){if(r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m(4,"app-logo-box",4),e(5,"h2",5),i(6,"Se connecter"),t(),e(7,"p",6),i(8," Bienvenue sur votre espace personnel."),t(),e(9,"p",6),i(10," Connectez-vous pour suivre vos commandes, faire une demande de retour ou g\xE9rer votre compte en toute s\xE9curit\xE9. "),t(),e(11,"div",7)(12,"form",8),v("ngSubmit",function(){return a.onLogin()}),e(13,"div",9)(14,"label",10),i(15,"Telephone"),t(),m(16,"input",11),A(17,pe,2,0,"div",12),t(),e(18,"div",9)(19,"a",13),i(20,"Reset password"),t(),e(21,"label",14),i(22,"Password"),t(),m(23,"input",15),t(),e(24,"div",9)(25,"div",16),m(26,"input",17),e(27,"label",18),i(28,"Souviens-toi de moi"),t()()(),A(29,de,2,1,"div",19),z(30,"async"),e(31,"div",20)(32,"button",21),i(33," Se connecter "),t()()()()()(),e(34,"p",22),i(35," Vous n'avez pas encore de compte ? "),e(36,"a",23),i(37,"Cr\xE9er un compte"),t()()()()),r&2){let c;s(12),d("formGroup",a.signinForm),s(4),d("ngClass",x(7,ee,a.submitted&&a.form.phone.errors)),s(),d("ngIf",a.submitted&&((c=a.signinForm.get("phone"))==null?null:c.invalid)),s(6),d("ngClass",x(9,ee,a.submitted&&a.form.password.errors)),s(6),d("ngIf",P(30,5,a.errorMessage$))}},dependencies:[F,h,w,E,O,$,V,M,N,k,D,T,I,L,b]});let n=o;return n})();var ie=n=>({"is-invalid":n}),ne=(()=>{let o=class o{ngAfterViewInit(){}constructor(){this.submitted=!1,this.cities=[],this.departements=[],this.selectOptions={placeholder:!0,removeItemButton:!1,searchEnabled:!0,shouldSort:!1},this.fb=p(R),this.store=p(q),this.route=p(C),this.service=p(_),this.apiService=p(X),this.toastService=p(Y),this.errorMessage$=this.store.select(j),this.signinForm=this.fb.group({name:["",[u.required]],departement_id:["",[u.required]],city_id:["",[u.required]],phone:["",[u.required]],email:["",[u.required]],password:["",[u.required]],password_confirmation:[]})}ngOnInit(){this.loadDepartements()}loadDepartements(){this.apiService.getDepartements().subscribe(l=>{this.departements=l})}loadcity(){this.apiService.getCityByDepartementID(this.signinForm.value.departement_id).subscribe(l=>{this.cities=l})}get form(){return this.signinForm.controls}onRegister(){if(this.submitted=!0,this.signinForm.valid){let l=this.signinForm.value;this.apiService.addUser(l).subscribe({next:r=>{this.toastService.success("Compte ajout\xE9e"),this.route.navigateByUrl("auth/sign-in")},error:r=>{console.error(r),this.toastService.error("Erreur lors de l'ajout "+r.error.message)}})}}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=f({type:o,selectors:[["app-signup"]],standalone:!0,features:[g],decls:63,vars:11,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],["className","mx-auto mb-4 text-center auth-logo"],[1,"fw-bold","text-uppercase","text-center","fs-18"],[1,"text-muted","text-center","mt-1","mb-4"],[1,"px-4"],[1,"authentication-form",3,"ngSubmit","formGroup"],[1,"row"],[1,"mb-3","col-md-12"],["for","example-name",1,"form-label"],["type","name","formControlName","name","id","example-name","name","example-name","placeholder","",1,"form-control","bg-light","bg-opacity-50","border-light","py-2"],[1,"row","mt-3"],[1,"col-md-6"],[1,"form-label"],["selectFormInputDynamic","","formControlName","departement_id",1,"form-select",3,"change","choices","ngClass"],[3,"ngValue"],[1,"invalid-feedback"],["selectFormInputDynamic","","formControlName","city_id",1,"form-select",3,"choices","ngClass"],[1,"mb-3","col-md-6"],["formControlName","phone","type","name","id","example-phone","name","example-name","placeholder","",1,"form-control","bg-light","bg-opacity-50","border-light","py-2"],["for","example-email",1,"form-label"],["formControlName","email","type","email","id","example-email","name","example-email","placeholder","",1,"form-control","bg-light","bg-opacity-50","border-light","py-2"],["for","example-password",1,"form-label"],["formControlName","password","type","password","id","example-password","placeholder","",1,"form-control","bg-light","bg-opacity-50","border-light","py-2"],["formControlName","password_confirmation","type","password","id","example-conrfim","name","example-name","placeholder","",1,"form-control","bg-light","bg-opacity-50","border-light","py-2"],[1,"mb-3"],[1,"form-check"],["type","checkbox","id","checkbox-signin",1,"form-check-input"],["for","checkbox-signin",1,"form-check-label"],[1,"mb-1","text-center","d-grid"],["type","submit",1,"btn","btn-danger","py-2"],[1,"mb-0","text-center","text-white"],["routerLink","/auth/sign-in",1,"text-reset","text-unline-dashed","fw-bold","ms-1"]],template:function(r,a){if(r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m(4,"app-logo-box",4),e(5,"h2",5),i(6,"Cr\xE9er un compte"),t(),e(7,"p",6),i(8," Rejoignez notre plateforme et profitez d\u2019une exp\xE9rience de commande simple, rapide et s\xE9curis\xE9e. Suivez vos livraisons, faites des retours, et restez inform\xE9 \xE0 chaque \xE9tape. "),t(),e(9,"div",7)(10,"form",8),v("ngSubmit",function(){return a.onRegister()}),e(11,"div",9)(12,"div",10)(13,"label",11),i(14,"Nom complet"),t(),m(15,"input",12),t()(),e(16,"div",13)(17,"div",14)(18,"label",15),i(19,"Departement"),t(),e(20,"select",16),v("change",function(){return a.loadcity()}),e(21,"option",17),i(22,"-- Choisir un departement --"),t()(),e(23,"div",18),i(24,"Champ requis"),t()(),e(25,"div",14)(26,"label",15),i(27,"Villes"),t(),e(28,"select",19)(29,"option",17),i(30,"-- Choisir une ville --"),t()(),e(31,"div",18),i(32,"Champ requis"),t()()(),e(33,"div",13)(34,"div",20)(35,"label",11),i(36,"Num\xE9ro de t\xE9l\xE9phone"),t(),m(37,"input",21),t(),e(38,"div",20)(39,"label",22),i(40,"Adresse email"),t(),m(41,"input",23),t()(),e(42,"div",9)(43,"div",20)(44,"label",24),i(45,"Mot de passe"),t(),m(46,"input",25),t(),e(47,"div",20)(48,"label",11),i(49,"Confirmer le mot de passe"),t(),m(50,"input",26),t()(),e(51,"div",27)(52,"div",28),m(53,"input",29),e(54,"label",30),i(55,"En vous inscrivant, vous acceptez nos Conditions d\u2019utilisation et notre Politique de confidentialit\xE9"),t()()(),e(56,"div",31)(57,"button",32),i(58," Cr\xE9er mon compte "),t()()()()()(),e(59,"p",33),i(60," Vous avez d\xE9j\xE0 un compte ? "),e(61,"a",34),i(62,"Se connecter"),t()()()()),r&2){let c,y;s(10),d("formGroup",a.signinForm),s(10),d("choices",a.departements)("ngClass",x(7,ie,((c=a.signinForm.get("departement_id"))==null?null:c.touched)&&((c=a.signinForm.get("departement_id"))==null?null:c.invalid))),s(),d("ngValue",null),s(7),d("choices",a.cities)("ngClass",x(9,ie,((y=a.signinForm.get("city_id"))==null?null:y.touched)&&((y=a.signinForm.get("city_id"))==null?null:y.invalid))),s(),d("ngValue",null)}},dependencies:[h,b,Z,T,M,J,K,N,H,k,D,I,L,V,w,E]});let n=o;return n})();var oe=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=f({type:o,selectors:[["app-password"]],standalone:!0,features:[g],decls:24,vars:0,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],["className","mx-auto mb-4 text-center auth-logo"],[1,"fw-bold","text-uppercase","text-center","fs-18"],[1,"text-muted","text-center","mt-1","mb-4"],[1,"px-4"],["action","/",1,"authentication-form"],[1,"mb-3"],["for","example-email",1,"form-label"],["type","email","id","example-email","name","example-email","placeholder","Enter your email",1,"form-control","bg-light","bg-opacity-50","border-light","py-2"],[1,"mb-1","text-center","d-grid"],["type","submit",1,"btn","btn-danger","py-2","fw-medium"],[1,"mb-0","text-center","text-white"],["routerLink","/auth/sign-in",1,"text-reset","text-unline-dashed","fw-bold","ms-1"]],template:function(r,a){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m(4,"app-logo-box",4),e(5,"h2",5),i(6,"Reset Password"),t(),e(7,"p",6),i(8," Enter your email address and we'll send you an email with instructions "),m(9,"br"),i(10," to reset your password. "),t(),e(11,"div",7)(12,"form",8)(13,"div",9)(14,"label",10),i(15,"Email"),t(),m(16,"input",11),t(),e(17,"div",12)(18,"button",13),i(19," Reset Password "),t()()()()()(),e(20,"p",14),i(21," Back to "),e(22,"a",15),i(23,"Sign In"),t()()()())},dependencies:[h,b]});let n=o;return n})();var re=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=f({type:o,selectors:[["app-lock-screen"]],standalone:!0,features:[g],decls:24,vars:0,consts:[[1,"row","justify-content-center"],[1,"col-xl-5"],[1,"card","auth-card"],[1,"card-body","px-3","py-5"],["className","mx-auto mb-4 text-center auth-logo"],[1,"text-center","mb-2"],["src","assets/images/users/avatar-1.jpg","alt","avatar",1,"rounded-circle","avatar-lg","img-thumbnail"],[1,"fw-bold","text-uppercase","text-center","fs-18"],[1,"text-muted","text-center","mt-1","mb-4"],[1,"px-4"],["action","/",1,"authentication-form"],[1,"mb-3"],["for","example-password",1,"form-label","visually-hidden"],["type","text","id","example-password","placeholder","Enter your password",1,"form-control","bg-light","bg-opacity-50","border-light","py-2"],[1,"mb-1","text-center","d-grid"],["type","submit",1,"btn","btn-danger","py-2"],[1,"mb-0","text-center","text-white"],["routerLink","/auth/sign-in",1,"text-reset","text-unline-dashed","fw-bold","ms-1"]],template:function(r,a){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m(4,"app-logo-box",4),e(5,"div",5),m(6,"img",6),t(),e(7,"h2",7),i(8,"Hi ! Gaston"),t(),e(9,"p",8),i(10," Enter your password to access the admin. "),t(),e(11,"div",9)(12,"form",10)(13,"div",11)(14,"label",12),i(15,"Password"),t(),m(16,"input",13),t(),e(17,"div",14)(18,"button",15),i(19,"Sign In"),t()()()()()(),e(20,"p",16),i(21," Not you? return "),e(22,"a",17),i(23,"Sign In"),t()()()())},dependencies:[F,h,b]});let n=o;return n})();var Ze=[{path:"sign-in",component:te,data:{title:"Se connecter"}},{path:"sign-up",component:ne,data:{title:"Sign Up"}},{path:"reset-password",component:oe,data:{title:"Rest Password"}},{path:"lock-screen",component:re,data:{title:"Lock Screen"}}];export{Ze as AUTH_ROUTES};
